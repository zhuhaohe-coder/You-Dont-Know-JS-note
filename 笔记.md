# 作用域和闭包

## 1.作用域是什么

> 作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。



> 变量的赋值操作会执行两个动作，首先编译器会在当前作用域中声明一个变量（如果之前没有声明过），然后在运行时引擎会在作用域中查找该变量，如果能够找到就会对它赋值, 否则引擎就会抛出一个异常

**JS引擎查找变量的方式: LHS和RHS**

LHS 和 RHS 的含义是“赋值操作的左侧或右侧”并不一定意味着就是“= 赋值操作符的左侧或右侧”。赋值操作还有其他几种形式

因此在概念上最 好将其理解为“==赋值操作的目标是谁（LHS）==”以及“==谁是赋值操作的源头 （RHS）==”

**小测验** 

检验一下到目前的理解程度。把自己当作引擎，并同作用域进行一次“对话”： 

```js
function foo(a) {
  var b = a; 
  return a + b; 
} 
var c = foo( 2 ); 
```

1. 找到其中所有的 LHS 查询。（这里有 3 处！）
   - c=foo(2)
   - a=2
   - b=a
2. 找到其中所有的 RHS 查询。（这里有 4 处！)
   - foo的声明
   - var b = a; a的值
   -  return a + b;  a的值
   -  return a + b;  b的值

> ReferenceError 同作用域判别失败相关，而 TypeError 则代表作用域判别成功了，但是对 结果的操作是非法或不合理的。